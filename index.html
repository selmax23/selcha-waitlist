<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Selcha - Private Beta Notification List</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@700&amp;family=Inter:wght@400;500;600&amp;family=Tajawal:wght@400;500;700&amp;display=swap" rel="stylesheet">
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    .headline-font {
      font-family: 'Libre Baskerville', Georgia, serif;
    }
    .headline-font-ar {
      font-family: 'Tajawal', 'Arial', sans-serif;
    }
    .body-font-ar {
      font-family: 'Tajawal', 'Arial', sans-serif;
    }
    .input-field {
      transition: all 0.2s ease;
    }
    .input-field:focus {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(124, 58, 237, 0.15);
    }
    .cta-button {
      transition: all 0.3s ease;
    }
    .cta-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(124, 58, 237, 0.3);
    }
    .cta-button:active {
      transform: translateY(0);
    }
    .lang-toggle {
      transition: all 0.2s ease;
      cursor: pointer;
      padding: 0.5rem 1rem;
      border-radius: 8px;
    }
    .lang-toggle:hover {
      background: rgba(124, 58, 237, 0.1);
    }
    .lang-toggle.active {
      background: rgba(124, 58, 237, 0.15);
      font-weight: 600;
    }
    .success-animation {
      animation: slideDown 0.5s ease-out;
    }
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .rtl {
      direction: rtl;
    }
    .ltr {
      direction: ltr;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <div id="app" class="w-full h-full overflow-auto"></div>
  <script>
    const defaultConfig = {
      background_color: "#f7f4ff",
      primary_color: "#7c3aed",
      text_color: "#1a1a1a",
      button_text_color: "#ffffff",
      input_bg_color: "#ffffff",
      font_family: "Inter",
      font_size: 16,
      
      // English content
      main_headline_en: "Save more. Search less.",
      subheadline_en: "Selcha is an AI-powered shopping assistant that finds the best deals for you — instantly. Built for shoppers in the GCC. No ads. No endless scrolling. Just smart savings.",
      name_placeholder_en: "Enter your name",
      email_placeholder_en: "Enter your email",
      cta_button_en: "Notify me when private beta opens",
      trust_copy_en: "Private beta • Limited invites • Unsubscribe anytime",
      why_title_en: "Why a private beta?",
      why_description_en: "We're launching Selcha in a controlled private beta to ensure quality, reliability, and the best possible experience.\n\nYou'll be notified by email when private beta access opens, so you can try Selcha as soon as it's available.",
      success_title_en: "You're on the list.",
      success_description_en: "We'll email you when private beta access opens.",
      footer_text_en: "By joining, you agree to receive early product updates from Selcha. We respect your privacy.",
      
      // Arabic content
      main_headline_ar: "وفّر أكثر. ابحث أقل.",
      subheadline_ar: "سيلتشا هو مساعد تسوق ذكي يعمل بالذكاء الاصطناعي يجد لك أفضل العروض — بشكل فوري. مصمم للمتسوقين في دول الخليج. بدون إعلانات. بدون تصفح لا نهاية له. فقط توفير ذكي.",
      name_placeholder_ar: "أدخل اسمك",
      email_placeholder_ar: "أدخل بريدك الإلكتروني",
      cta_button_ar: "أخبرني عند فتح النسخة التجريبية",
      trust_copy_ar: "نسخة تجريبية خاصة • دعوات محدودة • إلغاء الاشتراك في أي وقت",
      why_title_ar: "لماذا نسخة تجريبية خاصة؟",
      why_description_ar: "نطلق سيلتشا في نسخة تجريبية خاصة ومحكومة لضمان الجودة والموثوقية وأفضل تجربة ممكنة.\n\nسيتم إخطارك عبر البريد الإلكتروني عند فتح النسخة التجريبية الخاصة، حتى تتمكن من تجربة سيلتشا في أقرب وقت ممكن.",
      success_title_ar: "أنت في القائمة.",
      success_description_ar: "سنرسل لك بريدًا إلكترونيًا عند فتح النسخة التجريبية الخاصة.",
      footer_text_ar: "بالانضمام، أنت توافق على تلقي تحديثات المنتج المبكرة من سيلتشا. نحن نحترم خصوصيتك."
    };

    let formSubmitted = false;
    let currentLang = 'en';

    function switchLanguage(lang) {
      currentLang = lang;
      const config = window.elementSdk?.config || defaultConfig;
      onConfigChange(config);
    }

    async function onConfigChange(config) {
      const app = document.getElementById('app');
      const customFont = config.font_family || defaultConfig.font_family;
      const baseSize = config.font_size || defaultConfig.font_size;
      const bgColor = config.background_color || defaultConfig.background_color;
      const primaryColor = config.primary_color || defaultConfig.primary_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const buttonTextColor = config.button_text_color || defaultConfig.button_text_color;
      const inputBgColor = config.input_bg_color || defaultConfig.input_bg_color;

      const isArabic = currentLang === 'ar';
      const direction = isArabic ? 'rtl' : 'ltr';
      const headlineFont = isArabic ? 'headline-font-ar' : 'headline-font';
      const bodyFontClass = isArabic ? 'body-font-ar' : '';
      
      // Get content based on language
      const content = {
        headline: config[`main_headline_${currentLang}`] || defaultConfig[`main_headline_${currentLang}`],
        subheadline: config[`subheadline_${currentLang}`] || defaultConfig[`subheadline_${currentLang}`],
        namePlaceholder: config[`name_placeholder_${currentLang}`] || defaultConfig[`name_placeholder_${currentLang}`],
        emailPlaceholder: config[`email_placeholder_${currentLang}`] || defaultConfig[`email_placeholder_${currentLang}`],
        ctaButton: config[`cta_button_${currentLang}`] || defaultConfig[`cta_button_${currentLang}`],
        trustCopy: config[`trust_copy_${currentLang}`] || defaultConfig[`trust_copy_${currentLang}`],
        whyTitle: config[`why_title_${currentLang}`] || defaultConfig[`why_title_${currentLang}`],
        whyDescription: config[`why_description_${currentLang}`] || defaultConfig[`why_description_${currentLang}`],
        successTitle: config[`success_title_${currentLang}`] || defaultConfig[`success_title_${currentLang}`],
        successDescription: config[`success_description_${currentLang}`] || defaultConfig[`success_description_${currentLang}`],
        footerText: config[`footer_text_${currentLang}`] || defaultConfig[`footer_text_${currentLang}`]
      };

      app.style.backgroundColor = bgColor;
      app.style.color = textColor;
      app.style.fontFamily = `${customFont}, Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`;
      
      if (!formSubmitted) {
        app.innerHTML = `
          <div class="${direction}" style="min-height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2rem 1.5rem;">
            <div style="max-width: 42rem; width: 100%; text-align: center;">
              
              <!-- Language Toggle -->
              <div style="display: flex; justify-content: center; gap: 0.5rem; margin-bottom: ${baseSize * 2}px;">
                <span class="lang-toggle ${currentLang === 'en' ? 'active' : ''}" onclick="switchLanguage('en')" style="color: ${textColor}; font-size: ${baseSize * 0.875}px;">
                  English
                </span>
                <span style="color: ${textColor}; opacity: 0.3;">|</span>
                <span class="lang-toggle ${currentLang === 'ar' ? 'active' : ''}" onclick="switchLanguage('ar')" style="color: ${textColor}; font-size: ${baseSize * 0.875}px;">
                  العربية
                </span>
              </div>

              <!-- Main Headline -->
              <h1 class="${headlineFont} ${bodyFontClass}" style="font-size: ${baseSize * 3}px; font-weight: 700; margin-bottom: ${baseSize * 1.5}px; line-height: 1.2; color: ${textColor};">
                ${content.headline}
              </h1>
              
              <!-- Subheadline -->
              <p class="${bodyFontClass}" style="font-size: ${baseSize * 1.25}px; line-height: 1.7; margin-bottom: ${baseSize * 3}px; color: ${textColor}; opacity: 0.85;">
                ${content.subheadline}
              </p>

              <!-- Email Capture Form -->
              <form id="waitlistForm" style="margin-bottom: ${baseSize * 2}px;">
                <div style="display: flex; flex-direction: column; gap: ${baseSize * 0.75}px; max-width: 28rem; margin: 0 auto;">
                  
                  <label for="name" style="position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0;">Name</label>
                  <input 
                    type="text" 
                    id="name"
                    name="name"
                    placeholder="${content.namePlaceholder}"
                    required
                    class="input-field ${bodyFontClass}"
                    style="width: 100%; padding: ${baseSize * 1}px ${baseSize * 1.25}px; font-size: ${baseSize}px; border: 2px solid rgba(0,0,0,0.1); border-radius: 12px; background: ${inputBgColor}; color: ${textColor}; outline: none; text-align: ${isArabic ? 'right' : 'left'};"
                  >
                  
                  <label for="email" style="position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0;">Email</label>
                  <input 
                    type="email" 
                    id="email"
                    name="email"
                    placeholder="${content.emailPlaceholder}"
                    required
                    class="input-field ${bodyFontClass}"
                    style="width: 100%; padding: ${baseSize * 1}px ${baseSize * 1.25}px; font-size: ${baseSize}px; border: 2px solid rgba(0,0,0,0.1); border-radius: 12px; background: ${inputBgColor}; color: ${textColor}; outline: none; text-align: ${isArabic ? 'right' : 'left'};"
                  >
                  
                  <button 
                    type="submit"
                    class="cta-button ${bodyFontClass}"
                    style="width: 100%; padding: ${baseSize * 1.125}px ${baseSize * 2}px; font-size: ${baseSize * 1.125}px; font-weight: 600; border: none; border-radius: 12px; background: ${primaryColor}; color: ${buttonTextColor}; cursor: pointer;"
                  >
                    ${content.ctaButton}
                  </button>
                </div>
                
                <p class="${bodyFontClass}" style="font-size: ${baseSize * 0.875}px; margin-top: ${baseSize}px; color: ${textColor}; opacity: 0.6;">
                  ${content.trustCopy}
                </p>
              </form>

              <!-- Why Private Beta -->
              <div style="margin-top: ${baseSize * 4}px; padding-top: ${baseSize * 3}px; border-top: 1px solid rgba(0,0,0,0.1);">
                <h2 class="${bodyFontClass}" style="font-size: ${baseSize * 1.5}px; font-weight: 600; margin-bottom: ${baseSize}px; color: ${textColor};">
                  ${content.whyTitle}
                </h2>
                <p class="${bodyFontClass}" style="font-size: ${baseSize}px; line-height: 1.7; color: ${textColor}; opacity: 0.75; white-space: pre-line;">
                  ${content.whyDescription}
                </p>
              </div>

              <!-- Footer -->
              <footer style="margin-top: ${baseSize * 4}px; padding-top: ${baseSize * 2}px; border-top: 1px solid rgba(0,0,0,0.1);">
                <p class="${bodyFontClass}" style="font-size: ${baseSize * 0.875}px; color: ${textColor}; opacity: 0.6; line-height: 1.6;">
                  ${content.footerText}
                </p>
              </footer>

            </div>
          </div>
        `;

        const form = document.getElementById('waitlistForm');
        form.addEventListener('submit', handleFormSubmit);
      } else {
        // Success state
        app.innerHTML = `
          <div class="success-animation ${direction} ${bodyFontClass}" style="min-height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2rem 1.5rem;">
            <div style="max-width: 32rem; width: 100%; text-align: center;">
              
              <div style="font-size: ${baseSize * 4}px; margin-bottom: ${baseSize * 1.5}px;">
                ✅
              </div>
              
              <h2 style="font-size: ${baseSize * 2}px; font-weight: 700; margin-bottom: ${baseSize}px; color: ${textColor};">
                ${content.successTitle}
              </h2>
              
              <p style="font-size: ${baseSize * 1.125}px; line-height: 1.7; color: ${textColor}; opacity: 0.85;">
                ${content.successDescription}
              </p>

            </div>
          </div>
        `;
      }
    }

    function handleFormSubmit(e) {
      e.preventDefault();
      
      const submitButton = e.target.querySelector('button[type="submit"]');
      const loadingText = currentLang === 'ar' ? 'جارٍ الإرسال...' : 'Submitting...';
      
      submitButton.disabled = true;
      submitButton.textContent = loadingText;
      submitButton.style.opacity = '0.7';
      
      // Simulate form submission
      setTimeout(() => {
        formSubmitted = true;
        onConfigChange(window.elementSdk?.config || defaultConfig);
      }, 800);
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => {
              config.background_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ background_color: value });
            }
          },
          {
            get: () => config.primary_color || defaultConfig.primary_color,
            set: (value) => {
              config.primary_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ primary_color: value });
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              config.text_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ text_color: value });
            }
          },
          {
            get: () => config.button_text_color || defaultConfig.button_text_color,
            set: (value) => {
              config.button_text_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ button_text_color: value });
            }
          },
          {
            get: () => config.input_bg_color || defaultConfig.input_bg_color,
            set: (value) => {
              config.input_bg_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ input_bg_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => {
            config.font_family = value;
            if (window.elementSdk) window.elementSdk.setConfig({ font_family: value });
          }
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (value) => {
            config.font_size = value;
            if (window.elementSdk) window.elementSdk.setConfig({ font_size: value });
          }
        }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["main_headline_en", config.main_headline_en || defaultConfig.main_headline_en],
        ["main_headline_ar", config.main_headline_ar || defaultConfig.main_headline_ar],
        ["subheadline_en", config.subheadline_en || defaultConfig.subheadline_en],
        ["subheadline_ar", config.subheadline_ar || defaultConfig.subheadline_ar],
        ["name_placeholder_en", config.name_placeholder_en || defaultConfig.name_placeholder_en],
        ["name_placeholder_ar", config.name_placeholder_ar || defaultConfig.name_placeholder_ar],
        ["email_placeholder_en", config.email_placeholder_en || defaultConfig.email_placeholder_en],
        ["email_placeholder_ar", config.email_placeholder_ar || defaultConfig.email_placeholder_ar],
        ["cta_button_en", config.cta_button_en || defaultConfig.cta_button_en],
        ["cta_button_ar", config.cta_button_ar || defaultConfig.cta_button_ar],
        ["trust_copy_en", config.trust_copy_en || defaultConfig.trust_copy_en],
        ["trust_copy_ar", config.trust_copy_ar || defaultConfig.trust_copy_ar],
        ["why_title_en", config.why_title_en || defaultConfig.why_title_en],
        ["why_title_ar", config.why_title_ar || defaultConfig.why_title_ar],
        ["why_description_en", config.why_description_en || defaultConfig.why_description_en],
        ["why_description_ar", config.why_description_ar || defaultConfig.why_description_ar],
        ["success_title_en", config.success_title_en || defaultConfig.success_title_en],
        ["success_title_ar", config.success_title_ar || defaultConfig.success_title_ar],
        ["success_description_en", config.success_description_en || defaultConfig.success_description_en],
        ["success_description_ar", config.success_description_ar || defaultConfig.success_description_ar],
        ["footer_text_en", config.footer_text_en || defaultConfig.footer_text_en],
        ["footer_text_ar", config.footer_text_ar || defaultConfig.footer_text_ar]
      ]);
    }

    // Make switchLanguage available globally
    window.switchLanguage = switchLanguage;

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    onConfigChange(defaultConfig);
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9ab459c4c74eba88',t:'MTc2NTI4MTcxNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>